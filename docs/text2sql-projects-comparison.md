# Text-to-SQL 开源项目对比分析

> 对比分析五大 Text-to-SQL 开源项目，为苏政源一本账智能问数选型提供参考
> 分析时间：2026-02-08

---

## 📊 项目概览

| 项目 | Stars (预估) | 语言 | 核心特点 | 定位 |
|------|------------|------|---------|------|
| **SQLBot** | ~2k | Python + React | RAG + 语义模型 + 安全隔离 | 企业级 ChatBI |
| **Vanna** | ~5k | Python | 用户权限感知 + 流式响应 | Text-to-SQL 框架 |
| **WrenAI** | ~3k | TypeScript + Python | GenBI + Text-to-Chart | 生成式 BI 平台 |
| **SQLChat** | ~2k | Next.js + TypeScript | 聊天式 SQL 客户端 | 开发者工具 |
| **SuperSonic** | ~1k | Java | Chat BI + Headless BI | 企业级 AI+BI |
| **Awesome-Text2SQL** | ~1k | - | 资源列表 + 排行榜 | 学术资源库 |

---

## 🎯 详细对比

### 1. SQLBot（DataEase）

#### ✅ 核心优势
- **RAG 增强**：利用数据库 Schema、术语库、SQL 示例提高准确性
- **语义模型**：支持自定义术语和 SQL 示例校准逻辑
- **企业级安全**：工作空间级资源隔离、细粒度权限控制
- **易于集成**：Web 嵌入、弹窗嵌入、MCP 调用
- **开箱即用**：Docker 一键部署，支持 1Panel
- **多模型支持**：LangChain + OpenAI + 通义千问 + HuggingFace

#### 🛠️ 技术栈
```
后端：Python 3.11 + FastAPI + PostgreSQL + pgvector + LangChain
前端：React + TypeScript + Vite
AI/ML：LangChain、LangGraph、sentence-transformers、dashscope（通义千问）
```

#### 📝 适合场景
- 政务/企业级应用（需严格权限控制）
- 需要术语库和 SQL 示例的复杂业务场景
- 需要嵌入到现有系统的集成场景
- 中国本地化部署（支持阿里云通义千问）

#### ⚠️ 注意事项
- 主要面向中文用户（飞致云）
- 定制化程度中等
- 社区相对较小（国产项目）

---

### 2. Vanna（MIT License）

#### ✅ 核心优势
- **用户权限感知**：每层都自动过滤用户权限
- **现代化 Web 界面**：预构建的 `<vanna-chat>` 组件
- **流式响应**：实时表格、图表、进度更新
- **企业安全**：行级安全、审计日志、速率限制
- **生产就绪**：FastAPI 集成、可观测性、生命周期钩子
- **易用性**：几行代码即可集成

#### 🛠️ 技术栈
```
核心：Python 3.8+
框架：FastAPI + Streamlit
集成：React、Vue、任意前端框架
```

#### 📝 适合场景
- 快速原型开发
- 需要细粒度权限控制
- 需要高度定制化的 UI
- 国际化项目（社区活跃）

#### ⚠️ 注意事项
- 更偏框架而非完整解决方案
- 需要自己构建完整系统
- 语义模型和术语库需要自己实现

---

### 3. WrenAI（Open Source）

#### ✅ 核心优势
- **GenBI**：统一 Chat BI 和 Headless BI
- **Text-to-Chart**：自动生成可视化图表
- **现代 UI**：美观的 Web 界面
- **多数据库支持**：PostgreSQL、MySQL、Snowflake、BigQuery 等
- **语义模型**：强大的语义层
- **可扩展**：模块化架构，易于扩展

#### 🛠️ 技术栈
```
前端：Next.js + TypeScript + Tailwind CSS
后端：Python + FastAPI
AI：LangChain + OpenAI
```

#### 📝 适合场景
- 需要 Text-to-Chart 的场景
- BI 可视化需求强
- 国际化项目
- 需要美观 UI 的场景

#### ⚠️ 注意事项
- 更偏 BI 平台，专注度不如专业 Text-to-SQL
- 定制化成本较高
- 中文支持可能不如国产项目

---

### 4. SQLChat

#### ✅ 核心优势
- **聊天式界面**：直观的聊天交互
- **多数据库支持**：MySQL、PostgreSQL、MSSQL、TiDB、OceanBase
- **云端服务**：sqlchat.ai 提供在线服务
- **自托管**：支持 Vercel 一键部署
- **简单易用**：零配置即可使用

#### 🛠️ 技术栈
```
前端：Next.js + TypeScript
数据库：支持多种数据库
```

#### 📝 适合场景
- 开发者快速测试 SQL
- 简单的数据库查询需求
- 不需要复杂语义模型的场景
- 快速原型

#### ⚠️ 注意事项
- 功能相对简单，主要面向开发者
- 缺少企业级安全特性
- 不适合复杂的政务/企业应用
- 术语库和语义模型能力较弱

---

### 5. SuperSonic（腾讯音乐）

#### ✅ 核心优势
- **Chat BI + Headless BI 统一**：增强 Text-to-SQL 可靠性
- **语义模型**：强大的语义层（指标/维度/标签）
- **规则解析**：结合规则和 LLM，提高效率
- **多轮对话**：支持复杂查询
- **三级权限控制**：数据集级、列级、行级
- **可扩展**：Java SPI，易于定制

#### 🛠️ 技术栈
```
语言：Java
框架：Spring Boot
AI：LLM + 规则引擎
```

#### 📝 适合场景
- 大型企业级应用
- 需要高可靠性的场景
- 需要 Headless BI 能力的场景
- Java 技术栈团队

#### ⚠️ 注意事项
- 学习曲线陡峭（Java + 复杂架构）
- 定制化成本高
- 部署复杂度高
- 更适合 Java 团队

---

### 6. Awesome-Text2SQL（资源库）

#### ✅ 核心优势
- **学术资源**：收集了大量论文、模型、数据集
- **排行榜**：WikiSQL、Spider、BIRD 等基准测试
- **实践项目**：收录了大量实际应用项目
- **持续更新**：跟踪最新研究进展

#### 📝 适合场景
- 学术研究
- 了解行业动态
- 选型参考

#### ⚠️ 注意事项
- 不是可部署的项目
- 主要是资源列表

---

## 🏆 综合评分

| 评分维度 | SQLBot | Vanna | WrenAI | SQLChat | SuperSonic |
|---------|--------|-------|--------|---------|-----------|
| **部署难易度** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐ |
| **功能完整性** | ⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| **安全合规** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐⭐⭐ |
| **语义模型** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐⭐⭐ |
| **定制化** | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐⭐ |
| **中文支持** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ |
| **社区活跃度** | ⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ |
| **适合政务** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐⭐ |

---

## 💡 针对苏政源一本账的建议

### 方案 A：基于 SQLBot 二次开发（强烈推荐）

#### 理由
1. **政务场景匹配**：飞致云是国内知名的开源公司，产品面向政企
2. **安全合规**：工作空间隔离、细粒度权限控制
3. **功能完整**：RAG + 语义模型 + SQL 示例，适合复杂政务数据
4. **部署简单**：Docker + 1Panel，运维成本低
5. **中文支持**：支持通义千问，本地化部署
6. **易于集成**：Web 嵌入、弹窗嵌入、MCP 调用

#### 开发重点
```
1. 术语库建设
   - 提取政务指标术语（收入、支出、预算、执行率等）
   - 定义同义词映射
   - 配置业务术语解释

2. SQL 示例库
   - 收集常用财政查询
   - 标注查询场景
   - 建立 SQL 校准逻辑

3. 指标选择功能
   - 指标分类展示
   - 多选/单选支持
   - 指标解释提示

4. 权限控制
   - 工作空间隔离
   - 数据集级权限
   - 行级权限
```

#### 预计工作量
- 术语库建设：2-3 天
- SQL 示例库：1-2 天
- 指标选择功能：3-5 天
- 权限控制配置：1-2 天
- **总计：7-12 天**

---

### 方案 B：Vanna + 自研语义层

#### 理由
1. **灵活性强**：用户权限感知、流式响应
2. **易于集成**：几行代码即可嵌入现有系统
3. **社区活跃**：更新频繁，资源丰富
4. **MIT 开源**：无商业限制

#### 开发重点
```
1. 实现 Vanna 核心
   - 配置数据源
   - 实现 DDL/术语上传
   - 实现 SQL 示例上传

2. 构建语义层（自研）
   - 指标维度模型
   - 术语库
   - SQL 示例库

3. Web 界面
   - 使用 <vanna-chat> 组件
   - 自定义样式
   - 指标选择功能

4. 权限控制
   - 基于 Vanna 的行级安全
   - 实现审计日志
```

#### 预计工作量
- Vanna 集成：1-2 天
- 语义层开发：5-7 天
- Web 界面：3-4 天
- 权限控制：2-3 天
- **总计：11-16 天**

---

### 方案 C：混合方案（SQLBot + Vanna）

#### 理由
1. **取长补短**：SQLBot 的语义模型 + Vanna 的权限感知
2. **降低风险**：两个项目互相借鉴
3. **渐进式开发**：先快速原型（Vanna），再迁移到 SQLBot

#### 开发重点
```
阶段 1：Vanna 快速原型（1-2 天）
   - 实现 Text-to-SQL 基本功能
   - 连接苏政源数据库
   - 测试准确性

阶段 2：SQLBot 语义层（3-5 天）
   - 术语库建设
   - SQL 示例库
   - 测试效果

阶段 3：综合评估（1 天）
   - 对比两者效果
   - 决定最终方案

阶段 4：深度开发（5-7 天）
   - 完善选定方案
   - 实现指标选择
   - 权限控制
```

#### 预计工作量
- **总计：10-15 天**

---

### 方案 D：参考 SuperSonic 架构（长期方案）

#### 理由
1. **架构先进**：Chat BI + Headless BI 统一
2. **可靠性高**：语义模型增强 Text-to-SQL
3. **腾讯背书**：有大型企业应用经验

#### 适用场景
- 如果项目是长期规划（6 个月以上）
- 如果团队有 Java 技术栈
- 如果需要高度定制化

#### 预计工作量
- 架构设计：2-3 周
- 核心开发：4-6 周
- 测试优化：2-3 周
- **总计：8-12 周**

---

## 📋 最终推荐

### 🏆 首选方案：基于 SQLBot 二次开发

**推荐理由**：
1. ✅ 政务场景匹配度高
2. ✅ 安全合规性满足要求
3. ✅ 部署简单（Docker）
4. ✅ 中文支持好
5. ✅ 开发周期短（7-12 天）
6. ✅ 飞致云提供技术支持

**实施步骤**：
```
第 1 周：
- Day 1-2: SQLBot 部署 + 数据源配置
- Day 3-4: 术语库建设 + SQL 示例库
- Day 5: 基本功能测试

第 2 周：
- Day 1-3: 指标选择功能开发
- Day 4: 权限控制配置
- Day 5: 集成测试 + 优化
```

---

### 🥈 备选方案：混合方案（Vanna + SQLBot）

**推荐理由**：
1. ✅ 风险分散
2. ✅ 快速验证
3. ✅ 可选择性最佳功能

**实施步骤**：
```
阶段 1：快速验证（1 周）
- Vanna 原型 + 基本功能
- SQLBot 语义层建设
- 效果对比

阶段 2：深度开发（2 周）
- 完善选定方案
- 指标选择功能
- 权限控制
```

---

## 🔗 相关资源

### 官方文档
- SQLBot：https://sqlbot.fit2cloud.com/
- Vanna：https://vanna.ai/
- WrenAI：https://getwren.ai/
- SQLChat：https://sqlchat.ai/
- SuperSonic：https://supersonicbi.github.io/
- Awesome-Text2SQL：https://github.com/eosphoros-ai/Awesome-Text2SQL

### 社区交流
- SQLBot：见 README 二维码
- Vanna：Discord 社区
- SuperSonic：GitHub Discussions

### 技术交流
- 飞致云技术群
- AI + BI 技术社区

---

*文档生成时间：2026-02-08*
*最后更新：2026-02-08*
